<!DOCTYPE html>
<html lang="es">
<head>
ย <meta charset="UTF-8" />
ย <meta name="viewport" content="width=device-width, initial-scale=1" />
ย <title>Versa</title>

ย <!-- CSS del proyecto -->
ย <link rel="stylesheet" href="estilos.css" />

ย <!-- Fuentes de Google -->
ย <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@600&family=EB+Garamond:ital,wght@0,400;1,400&family=Playfair+Display:ital,wght@0,500;0,700;1,600&display=swap" rel="stylesheet">
</head>

<body>
ย <!-- Sonido mรกquina de escribir (suavizado por JS) -->
ย <audio id="sonidoTecla" src="https://www.soundjay.com/communication/typewriter-key-1.mp3" preload="auto"></audio>

ย <!-- Contenedor de lluvia de fresas -->
ย <div id="contenedor-lluvia"></div>

ย <!-- Botรณn menรบ -->
ย <div
ย ย id="boton-fresa-menu"
ย ย role="button"
ย ย aria-controls="miSidebar"
ย ย aria-expanded="false"
ย ย tabindex="0"
ย ย onclick="toggleMenu()">๐</div>

ย <!-- Sidebar -->
ย <nav id="miSidebar" class="barra-lateral" role="navigation" aria-label="Secciones">
ย ย <div style="height: 80px;"></div>
ย ย <a href="javascript:void(0)" onclick="abrirEditor()">Escribir Poema</a>
ย ย <a href="javascript:void(0)" onclick="mostrarSeccion('feed')">Explorar Feed</a>
ย ย <a href="javascript:void(0)" onclick="mostrarSeccion('perfil')">Mi Perfil</a>
ย ย <a href="javascript:void(0)" onclick="mostrarSeccion('borradores')">Borradores</a>
ย ย <a href="javascript:void(0)" onclick="mostrarSeccion('archivados')">Archivados</a>
ย ย <a href="javascript:void(0)" onclick="mostrarSeccion('config')">Configuraciรณn</a>
ย </nav>

ย <!-- Header (se oculta en Borradores/Archivados vรญa JS) -->
ย <header class="header-principal">
ย ย <h1 id="titulo-pagina" class="times">Versa</h1>
ย ย <p id="subtitulo-pagina">nada aquรญ concluye</p>

ย ย <div id="navegacion-tabs" class="tabs-poesia" role="tablist" aria-label="Navegaciรณn de feed">
ย ย ย <button id="btn-feed" class="tab-btn active" onclick="mostrarSeccion('feed')" role="tab" aria-selected="true">Tu Feed</button>
ย ย ย <button id="btn-favoritos" class="tab-btn" onclick="mostrarSeccion('favoritos')" role="tab" aria-selected="false">Favoritos</button>
ย ย ย <button id="btn-seguidos" class="tab-btn" onclick="mostrarSeccion('seguidos')" role="tab" aria-selected="false">Seguidos</button>
ย ย </div>
ย </header>

ย <!-- Secciones principales -->
ย <main id="seccion-feed" class="contenedor-principal"></main>
ย <main id="seccion-favoritos" class="contenedor-principal" style="display:none;"></main>
ย <main id="seccion-seguidos" class="contenedor-principal" style="display:none;"></main>

ย <!-- Borradores y archivados con encabezado + grid interno -->
ย <main id="seccion-borradores" class="contenedor-principal" style="display:none;"></main>
ย <main id="seccion-archivados" class="contenedor-principal" style="display:none;"></main>

ย <!-- Perfil -->
ย <section id="seccion-perfil" class="contenedor-principal" style="display:none;">
ย ย <div class="perfil-card-pro">
ย ย ย <div class="portada-pro">
ย ย ย ย <img id="img-portada" src="" loading="lazy" alt="Portada del perfil">
ย ย ย </div>

ย ย ย <div class="avatar-pro">
ย ย ย ย <img id="img-perfil" src="" loading="lazy" alt="Foto de perfil">
ย ย ย </div>

ย ย ย <div class="perfil-info-pro">
ย ย ย ย <h2 id="perf-nombre" class="times">Tu nombre</h2>
ย ย ย ย <p id="perf-usuario">@tuusuario</p>
ย ย ย ย <div class="bio-container">
ย ย ย ย ย <p id="perf-bio">Escribo para no olvidarme.</p>
ย ย ย ย </div>
ย ย ย ย <div id="badge-privado" class="badge-privado" style="display:none;">๐ Perfil privado</div>
ย ย ย ย <button class="btn-perfil-edit" onclick="abrirModalPerfil()">Personalizar Perfil</button>
ย ย ย </div>
ย ย </div>

ย ย <!-- Poemas publicados por este perfil -->
ย ย <div id="perfil-poemas" class="perfil-poemas">
ย ย ย <h3 class="times perfil-poemas-titulo">Publicaciones</h3>
ย ย ย <div id="perfil-poemas-lista"></div>
ย ย </div>
ย </section>

ย <!-- Configuraciรณn -->
ย <section id="seccion-config" class="contenedor-principal" style="display:none;">
ย ย <div class="config-wrap">
ย ย ย <h2 class="times">Configuraciรณn</h2>
ย ย ย <p class="config-sub">Ajusta tu espacio de escritura โจ</p>

ย ย ย <div class="config-row">
ย ย ย ย <label for="cfg-sonido"><strong>Sonido de tecleo</strong></label>
ย ย ย ย <input type="checkbox" id="cfg-sonido" />
ย ย ย </div>

ย ย ย <div class="config-row">
ย ย ย ย <label for="cfg-lluvia"><strong>Animaciรณn de fresas</strong></label>
ย ย ย ย <input type="checkbox" id="cfg-lluvia" />
ย ย ย </div>

ย ย ย <div class="config-row">
ย ย ย ย <label for="cfg-oscuro"><strong>Modo oscuro</strong></label>
ย ย ย ย <input type="checkbox" id="cfg-oscuro" />
ย ย ย </div>

ย ย ย <div class="config-actions">
ย ย ย ย <button class="btn-config" onclick="guardarAjustes()">Guardar ajustes</button>
ย ย ย </div>

ย ย ย <hr class="config-sep"/>

ย ย ย <div class="config-section">
ย ย ย ย <button class="config-link" onclick="togglePrivacidad()">
ย ย ย ย ย <span>Privacidad</span> <span id="arrow-priv">โธ</span>
ย ย ย ย </button>
ย ย ย ย <div id="panel-priv" class="priv-panel" style="display:none;">
ย ย ย ย ย <div class="config-row">
ย ย ย ย ย ย <label for="cfg-perfil-privado"><strong>Perfil privado</strong></label>
ย ย ย ย ย ย <input type="checkbox" id="cfg-perfil-privado" />
ย ย ย ย ย </div>
ย ย ย ย ย <div class="config-row">
ย ย ย ย ย ย <span><strong>Cambiar contraseรฑa</strong> <small style="opacity:.7">(prรณximamente)</small></span>
ย ย ย ย ย ย <button class="btn-config" onclick="cambiarContrasena()">Configurar</button>
ย ย ย ย ย </div>
ย ย ย ย </div>
ย ย ย </div>

ย ย ย <div class="config-section">
ย ย ย ย <div id="estado-sesion" class="config-row">
ย ย ย ย ย <span><strong>Sesiรณn</strong></span>
ย ย ย ย ย <button id="btn-sesion" class="btn-config" onclick="accionSesion()">Cerrar sesiรณn</button>
ย ย ย ย </div>
ย ย ย </div>

ย ย ย <p class="config-nota">Tus ajustes se guardan en este navegador.</p>
ย ย </div>
ย </section>

ย <!-- Modal Perfil -->
ย <div id="modalPerfil" class="modal-overlay" style="display:none;" role="dialog" aria-modal="true" aria-labelledby="titulo-modal">
ย ย <div class="modal-estetico-card">
ย ย ย ย ยย
ย ย ย <div class="decoracion-esquina bottom-right">๐ธ</div>
ย ย ย <span class="btn-cerrar-x" onclick="cerrarModalPerfil()" aria-label="Cerrar">&times;</span>

ย ย ย <h2 id="titulo-modal" class="times titulo-modal">Editar Identidad</h2>

ย ย ย <div class="diseno-inputs-lindo">
ย ย ย ย <input type="text" id="edit-nombre" placeholder="Nombre completo">
ย ย ย ย <input type="text" id="edit-usuario" placeholder="Usuario">
ย ย ย ย <textarea id="edit-bio" placeholder="Biografรญa"></textarea>

ย ย ย ย <div class="seccion-fotos-edit">
ย ย ย ย ย <label class="label-estetico">
ย ย ย ย ย ย ยPortada
ย ย ย ย ย ย <input type="file" hidden accept="image/*" onchange="previsualizar(this, 'img-portada')">
ย ย ย ย ย </label>

ย ย ย ย ย <label class="label-estetico">
ย ย ย ย ย ย ยPerfil
ย ย ย ย ย ย <input type="file" hidden accept="image/*" onchange="previsualizar(this, 'img-perfil')">
ย ย ย ย ย </label>
ย ย ย ย </div>
ย ย ย </div>

ย ย ย <div class="opciones-modal">
ย ย ย ย <label><input class="input-check" type="checkbox" id="opt-prev" checked> previsualizar</label>
ย ย ย ย <label><input class="input-check" type="checkbox" id="opt-suave" checked> bordes suaves</label>
ย ย ย </div>

ย ย ย <button class="btn-guardar-magico" onclick="guardarPerfil()">Guardar Cambios โจ</button>
ย ย </div>
ย </div>

ย <!-- Modal Login -->
ย <div id="modalLogin" class="modal-overlay" style="display:none;" role="dialog" aria-modal="true" aria-labelledby="titulo-login">
ย ย <div class="modal-estetico-card">
ย ย ย <span class="btn-cerrar-x" onclick="cerrarModalLogin()" aria-label="Cerrar">&times;</span>
ย ย ย <h2 id="titulo-login" class="times titulo-modal">Iniciar sesiรณn</h2>
ย ย ย <div class="diseno-inputs-lindo">
ย ย ย ย <input type="text" id="login-usuario" placeholder="Usuario (ej. @emely)" />
ย ย ย ย <input type="password" id="login-pass" placeholder="Contraseรฑa" />
ย ย ย </div>
ย ย ย <button class="btn-guardar-magico" onclick="iniciarSesion()">Entrar</button>
ย ย ย <p class="config-nota" style="margin-top:8px;">(Temporal: local en este navegador. No hay servidor.)</p>
ย ย </div>
ย </div>

ย <!-- Editor de poemas -->
ย <div id="modalEditor" class="modal-full" style="display:none;">
ย ย <div class="editor-wrapper">

ย ย ย <div class="editor-header-superior">
ย ย ย ย <input type="text" id="tituloPoema" class="times input-titulo-editor" placeholder="Tรญtulo del alma...">
ย ย ย ย <span class="cerrar-full" onclick="cerrarEditor()" aria-label="Cerrar">&times;</span>
ย ย ย </div>

ย ย ย <div class="barra-herramientas-pro" role="toolbar" aria-label="Herramientas de formato">
ย ย ย ย <button title="Negrita (Ctrl+B)" onclick="document.execCommand('bold')">B</button>
ย ย ย ย <button title="Cursiva (Ctrl+I)" onclick="document.execCommand('italic')">I</button>

ย ย ย ย <select aria-label="Fuente" onchange="document.execCommand('fontName', false, this.value)">
ย ย ย ย ย <option value="EB Garamond">Garamond</option>
ย ย ย ย ย <option value="Dancing Script">Manuscrita</option>
ย ย ย ย ย <option value="Playfair Display">Elegante</option>
ย ย ย ย </select>

ย ย ย ย <button title="Alinear izquierda" onclick="document.execCommand('justifyLeft')">โฌ๏ธ</button>
ย ย ย ย <button title="Centrar" onclick="document.execCommand('justifyCenter')">โฌ๏ธ</button>
ย ย ย ย <button title="Alinear derecha" onclick="document.execCommand('justifyRight')">โก๏ธ</button>

ย ย ย ย <label class="selector-color">
ย ย ย ย ย Sombra
ย ย ย ย ย <input type="color" id="colorSombraPoema" value="#ffc2d1" aria-label="Color de sombra">
ย ย ย ย </label>
ย ย ย </div>

ย ย ย <div class="papel-contenedor">
ย ย ย ย <div id="areaEscritura" contenteditable="true" class="papel-escritura" aria-label="รrea de escritura"></div>
ย ย ย </div>

ย ย ย <div id="contador" class="contador">0 palabras</div>

ย ย ย <div class="editor-footer-lindo">
ย ย ย ย <button class="btn-save-draft" onclick="publicar('borradores')">Guardar Borrador</button>
ย ย ย ย <button class="btn-publish-main" onclick="publicar('feed')">Publicar Versos</button>
ย ย ย </div>

ย ย </div>
ย </div>

ย <!-- Toast -->
ย <div id="toast" class="toast">Guardado โจ</div>

ย <!-- Script principal -->
ย <script src="script.js"></script>
</body>
</html>